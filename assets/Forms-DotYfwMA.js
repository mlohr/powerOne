import{c as z,r as v,j as e,X as C,a as D}from"./index-TsTE-49y.js";import{T as S}from"./target-DL-ZfnrC.js";import{T as O}from"./trash-2-M934RW1_.js";import{T as F}from"./trending-up-CpPLryGA.js";import{P as A}from"./plus-Bl-Y1J4x.js";const M=[["path",{d:"M5 12h14",key:"1ays0h"}]],V=z("minus",M),q=["Draft","Accepted","Active","Done","Archived","Cancelled"],I=["Group","Entity","Domain","Department","Team"];function L({objective:l,organizationalUnits:i,sprints:b,programs:m,objectives:h,users:c,isOpen:f,onClose:s,onSubmit:u,onDelete:j}){const[d,n]=v.useState({title:"",description:"",organizationalUnitId:"",ownerId:"",status:"Draft",sprintId:"",programIds:[],parentObjectiveId:null}),w=I.reduce((t,o)=>(t[o]=i.filter(a=>a.level===o),t),{});v.useEffect(()=>{n(l?{title:l.title,description:l.description,organizationalUnitId:l.organizationalUnitId,ownerId:l.owner.id,status:l.status,sprintId:l.sprint,programIds:l.programIds,parentObjectiveId:l.parentObjectiveId}:{title:"",description:"",organizationalUnitId:i[0]?.id||"",ownerId:c[0]?.id||"",status:"Draft",sprintId:b.find(t=>t.status==="active")?.id||b[0]?.id||"",programIds:[],parentObjectiveId:null})},[l,c,b,i]);const g=t=>{t.preventDefault(),u(d)},N=t=>{n(o=>({...o,programIds:o.programIds.includes(t)?o.programIds.filter(a=>a!==t):[...o.programIds,t]}))};if(!f)return null;const k=!!l;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 dark:bg-slate-950/80 z-40 backdrop-blur-sm",onClick:s}),e.jsx("div",{className:"fixed inset-y-0 right-0 w-full max-w-2xl bg-white dark:bg-slate-900 shadow-2xl z-50 overflow-y-auto",children:e.jsxs("form",{onSubmit:g,className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-shrink-0 px-6 py-5 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-teal-100 dark:bg-teal-950 flex items-center justify-center",children:e.jsx(S,{className:"text-teal-600 dark:text-teal-400",size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:k?"Edit Objective":"New Objective"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Define an outcome-focused goal"})]})]}),e.jsx("button",{type:"button",onClick:s,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",children:e.jsx(C,{size:20})})]})}),e.jsxs("div",{className:"flex-1 px-6 py-6 space-y-6 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Objective Title *"}),e.jsx("input",{type:"text",required:!0,value:d.title,onChange:t=>n({...d,title:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-600 focus:border-transparent",placeholder:"e.g., Increase company-wide revenue growth"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description *"}),e.jsx("textarea",{required:!0,value:d.description,onChange:t=>n({...d,description:t.target.value}),rows:4,className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-600 focus:border-transparent resize-none",placeholder:"Describe what this objective aims to achieve and why it matters..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Organizational Unit *"}),e.jsxs("select",{required:!0,value:d.organizationalUnitId,onChange:t=>n({...d,organizationalUnitId:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-600 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select organizational unit..."}),I.map(t=>{const o=w[t];return o.length===0?null:e.jsx("optgroup",{label:t,children:o.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))},t)})]}),e.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-500",children:"Organizational units are master data managed by Admins"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Owner *"}),e.jsx("select",{required:!0,value:d.ownerId,onChange:t=>n({...d,ownerId:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-600 focus:border-transparent",children:c.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status *"}),e.jsx("select",{required:!0,value:d.status,onChange:t=>n({...d,status:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-600 focus:border-transparent",children:q.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sprint *"}),e.jsx("select",{required:!0,value:d.sprintId,onChange:t=>n({...d,sprintId:t.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-600 focus:border-transparent",children:b.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.status,")"]},t.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Parent Objective (Optional)"}),e.jsxs("select",{value:d.parentObjectiveId||"",onChange:t=>n({...d,parentObjectiveId:t.target.value||null}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-teal-500 dark:focus:ring-teal-600 focus:border-transparent",children:[e.jsx("option",{value:"",children:"None - Top-level objective"}),h.filter(t=>t.id!==l?.id).map(t=>e.jsxs("option",{value:t.id,children:[t.title," (",t.organizationalLevel,")"]},t.id))]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1.5",children:"Link this objective to a higher-level objective for cascading alignment"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Programs (Optional)"}),e.jsx("div",{className:"space-y-2",children:m.map(t=>e.jsxs("label",{className:"flex items-start gap-3 p-3 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-teal-300 dark:hover:border-teal-700 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:d.programIds.includes(t.id),onChange:()=>N(t.id),className:"mt-0.5 w-4 h-4 text-teal-600 dark:text-teal-500 rounded border-slate-300 dark:border-slate-600 focus:ring-teal-500 dark:focus:ring-teal-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:t.name}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-0.5",children:t.description})]})]},t.id))})]})]}),e.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:e.jsxs("div",{className:"flex items-center justify-between",children:[k&&j?e.jsxs("button",{type:"button",onClick:j,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950 transition-colors font-medium",children:[e.jsx(O,{size:16}),"Delete"]}):e.jsx("div",{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg bg-teal-600 dark:bg-teal-700 text-white hover:bg-teal-700 dark:hover:bg-teal-600 transition-colors font-medium shadow-sm",children:k?"Save Changes":"Create Objective"})]})]})})]})})]})}const T=["Draft","Accepted","Active","Done","Archived","Cancelled"],K=[{value:"percentage",label:"Percentage (%)"},{value:"absolute",label:"Absolute Number"},{value:"score",label:"Score (0-10)"}],E=[{value:"increase",label:"Increase â†‘"},{value:"decrease",label:"Decrease â†“"}];function U({keyResult:l,objectives:i,preselectedObjectiveId:b,isOpen:m,onClose:h,onSubmit:c,onDelete:f}){const[s,u]=v.useState({title:"",objectiveId:"",status:"Draft",linkedChildObjectiveId:null,metrics:[{name:"",scale:"absolute",baselineValue:0,targetValue:0,direction:"increase"}]});v.useEffect(()=>{u(l?{title:l.title,objectiveId:l.objectiveId,status:l.status,linkedChildObjectiveId:l.linkedChildObjectiveId,metrics:[{name:"",scale:"absolute",baselineValue:0,targetValue:0,direction:"increase"}]}:{title:"",objectiveId:b||i[0]?.id||"",status:"Draft",linkedChildObjectiveId:null,metrics:[{name:"",scale:"absolute",baselineValue:0,targetValue:0,direction:"increase"}]})},[l,b,i]);const j=()=>{s.metrics.length<3&&u({...s,metrics:[...s.metrics,{name:"",scale:"absolute",baselineValue:0,targetValue:0,direction:"increase"}]})},d=a=>{s.metrics.length>1&&u({...s,metrics:s.metrics.filter((x,r)=>r!==a)})},n=(a,x,r)=>{const y=[...s.metrics];y[a]={...y[a],[x]:r},u({...s,metrics:y})},w=a=>{a.preventDefault(),c(s)},g=i.find(a=>a.id===s.objectiveId),N=["Group","Entity","Domain","Department","Team"],k=g&&g.organizationalLevel?N.indexOf(g.organizationalLevel):-1,t=i.filter(a=>a.organizationalLevel?N.indexOf(a.organizationalLevel)>k&&a.id!==s.objectiveId&&a.id!==l?.id:!1);if(!m)return null;const o=!!l;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 dark:bg-slate-950/80 z-40 backdrop-blur-sm",onClick:h}),e.jsx("div",{className:"fixed inset-y-0 right-0 w-full max-w-2xl bg-white dark:bg-slate-900 shadow-2xl z-50 overflow-y-auto",children:e.jsxs("form",{onSubmit:w,className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-shrink-0 px-6 py-5 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-950 flex items-center justify-center",children:e.jsx(F,{className:"text-blue-600 dark:text-blue-400",size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:o?"Edit Key Result":"New Key Result"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Define a measurable outcome"})]})]}),e.jsx("button",{type:"button",onClick:h,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",children:e.jsx(C,{size:20})})]})}),e.jsxs("div",{className:"flex-1 px-6 py-6 space-y-6 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Key Result Title *"}),e.jsx("input",{type:"text",required:!0,value:s.title,onChange:a=>u({...s,title:a.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent",placeholder:"e.g., Achieve â‚¬50M in total revenue"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1.5",children:"Key Results should be metric-driven and measurable"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Objective *"}),e.jsx("select",{required:!0,value:s.objectiveId,onChange:a=>u({...s,objectiveId:a.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent",children:i.map(a=>e.jsxs("option",{value:a.id,children:[a.title," (",a.organizationalLevel||"N/A"," - ",a.organizationalUnit||"N/A",")"]},a.id))}),g&&e.jsxs("div",{className:"mt-3 p-3 bg-slate-50 dark:bg-slate-950 rounded-lg border border-slate-200 dark:border-slate-800",children:[e.jsx("p",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Selected Objective:"}),e.jsx("p",{className:"text-sm text-slate-900 dark:text-slate-100",children:g.title}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:g.description})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status *"}),e.jsx("select",{required:!0,value:s.status,onChange:a=>u({...s,status:a.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent",children:T.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Link to Child Objective (Optional)"}),e.jsxs("select",{value:s.linkedChildObjectiveId||"",onChange:a=>u({...s,linkedChildObjectiveId:a.target.value||null}),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent",children:[e.jsx("option",{value:"",children:"None - No cascading alignment"}),t.length>0?t.map(a=>e.jsxs("option",{value:a.id,children:[a.title," (",a.organizationalLevel||"N/A"," - ",a.organizationalUnit||"N/A",")"]},a.id)):e.jsx("option",{value:"",disabled:!0,children:"No lower-level objectives available"})]}),e.jsxs("div",{className:"mt-3 p-4 bg-teal-50 dark:bg-teal-950/50 rounded-lg border border-teal-200 dark:border-teal-800",children:[e.jsx("p",{className:"text-xs font-medium text-teal-900 dark:text-teal-100 mb-2",children:"ðŸ’¡ Cascading Alignment"}),e.jsx("p",{className:"text-xs text-teal-800 dark:text-teal-200 leading-relaxed",children:"Link this Key Result to a lower-level Objective to create cascading alignment. For example, a Group-level Key Result can drive an Entity-level Objective."}),t.length===0&&e.jsx("p",{className:"text-xs text-teal-700 dark:text-teal-300 mt-2",children:"No lower-level objectives available for cascading. Create objectives at lower organizational levels first."})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Metrics (1-3 required) *"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:"Define how success will be measured for this Key Result"})]}),s.metrics.length<3&&e.jsxs("button",{type:"button",onClick:j,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950 rounded-lg transition-colors",children:[e.jsx(A,{size:14}),"Add Metric"]})]}),e.jsx("div",{className:"space-y-4",children:s.metrics.map((a,x)=>e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-950 rounded-lg border border-slate-200 dark:border-slate-800 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:["Metric ",x+1]}),s.metrics.length>1&&e.jsx("button",{type:"button",onClick:()=>d(x),className:"p-1 text-slate-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",children:e.jsx(V,{size:16})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1.5",children:"Metric Name *"}),e.jsx("input",{type:"text",required:!0,value:a.name,onChange:r=>n(x,"name",r.target.value),className:"w-full px-3 py-2 text-sm rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent",placeholder:"e.g., Total Revenue, Customer Count"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1.5",children:"Scale *"}),e.jsx("select",{required:!0,value:a.scale,onChange:r=>n(x,"scale",r.target.value),className:"w-full px-3 py-2 text-sm rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent",children:K.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1.5",children:"Direction *"}),e.jsx("select",{required:!0,value:a.direction,onChange:r=>n(x,"direction",r.target.value),className:"w-full px-3 py-2 text-sm rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent",children:E.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1.5",children:"Baseline Value *"}),e.jsx("input",{type:"number",required:!0,step:"any",value:a.baselineValue,onChange:r=>n(x,"baselineValue",parseFloat(r.target.value)||0),className:"w-full px-3 py-2 text-sm rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent",placeholder:"Starting value"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1.5",children:"Target Value *"}),e.jsx("input",{type:"number",required:!0,step:"any",value:a.targetValue,onChange:r=>n(x,"targetValue",parseFloat(r.target.value)||0),className:"w-full px-3 py-2 text-sm rounded-lg border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent",placeholder:"Goal value"})]})]}),a.name&&e.jsxs("div",{className:"pt-3 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-2",children:"Preview:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-medium text-slate-900 dark:text-slate-100",children:[a.name,":"]}),e.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:[a.baselineValue,a.scale==="percentage"&&"%"," â†’"," ",a.targetValue,a.scale==="percentage"&&"%"]}),e.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:["(",a.direction==="increase"?"â†‘":"â†“",")"]})]})]})]},x))})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/50 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("p",{className:"text-xs font-medium text-blue-900 dark:text-blue-100 mb-2",children:"ðŸ“Š About Metrics"}),e.jsxs("ul",{className:"text-xs text-blue-800 dark:text-blue-200 space-y-1",children:[e.jsx("li",{children:"â€¢ Each Key Result should have 1-3 metrics that measure success"}),e.jsx("li",{children:"â€¢ Metrics include baseline (starting point) and target (goal) values"}),e.jsx("li",{children:"â€¢ Current values are updated in the Metrics & Progress section"}),e.jsx("li",{children:"â€¢ Progress is automatically calculated based on current vs. target"})]})]})]}),e.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:e.jsxs("div",{className:"flex items-center justify-between",children:[o&&f?e.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950 transition-colors font-medium",children:[e.jsx(O,{size:16}),"Delete"]}):e.jsx("div",{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg bg-blue-600 dark:bg-blue-700 text-white hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors font-medium shadow-sm",children:o?"Save Changes":"Create Key Result"})]})]})})]})})]})}const p=D;function H(){const[l,i]=v.useState(!0),[b,m]=v.useState(!1),h=[p.currentUser,...p.objectives.map(c=>c.owner).filter((c,f,s)=>s.findIndex(u=>u.id===c.id)===f)];return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 p-8",children:[e.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-800",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Form Components Preview"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"This preview shows the side panel forms for creating and editing Objectives and Key Results. Click the buttons below to open each form."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition-colors font-medium",children:"Open Objective Form"}),e.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium",children:"Open Key Result Form"})]})]})}),e.jsx(L,{objective:null,organizationalUnits:p.organizationalUnits,sprints:p.sprints,programs:p.programs,objectives:p.objectives,users:h,isOpen:l,onClose:()=>i(!1),onSubmit:c=>{console.log("Objective form submitted:",c),i(!1)},onDelete:()=>{console.log("Delete objective"),i(!1)}}),e.jsx(U,{keyResult:null,objectives:p.objectives,preselectedObjectiveId:null,isOpen:b,onClose:()=>m(!1),onSubmit:c=>{console.log("Key Result form submitted:",c),m(!1)},onDelete:()=>{console.log("Delete key result"),m(!1)}})]})}export{H as default};
